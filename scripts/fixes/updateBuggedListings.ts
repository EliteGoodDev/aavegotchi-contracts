//updating ID 8(marine jacket) front sleeves

import { Signer } from "@ethersproject/abstract-signer";
import { LedgerSigner } from "@ethersproject/hardware-wallets";
import { run, network, ethers } from "hardhat";

import { DAOFacet, GotchiLendingFacet } from "../../typechain";
import { maticDiamondAddress } from "../helperFunctions";

async function main() {
  const listingIds = [
    {
      borrower: "0xb09a51b6c346ad3b1e810dff8402210eda3dfaad",
      completed: false,
      gotchiTokenId: "17299",
      id: "27075",
      lastClaimed: "1649142587",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649097863",
      tokensToShare: [],
    },
    {
      borrower: "0x7b5129beac90bfb3e288dc48936b9690d3e12ce6",
      completed: false,
      gotchiTokenId: "18157",
      id: "27064",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649120652",
      tokensToShare: [],
    },
    {
      borrower: "0x2aa0f8f4884230b60f8d40462d70ea0df1255280",
      completed: false,
      gotchiTokenId: "13670",
      id: "27049",
      lastClaimed: "1649256774",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649093860",
      tokensToShare: [],
    },
    {
      borrower: "0x0f75fd79338e0c2e4619a285af5f536541c267e0",
      completed: false,
      gotchiTokenId: "17273",
      id: "27043",
      lastClaimed: "1649292864",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649100827",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "17151",
      id: "27034",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "17085",
      id: "27021",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0xe0851f8584d6a064e178fb0f9b75bc0d5a72cd81",
      completed: false,
      gotchiTokenId: "19366",
      id: "27003",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649107743",
      tokensToShare: [],
    },
    {
      borrower: "0xffeff68bb01820bd3aa057d782f7dc9063d821e4",
      completed: false,
      gotchiTokenId: "12080",
      id: "26992",
      lastClaimed: "1649256412",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649099443",
      tokensToShare: [],
    },
    {
      borrower: "0x29de374aa1bfd52ccd0ae3d39eeeaff6f51f417e",
      completed: false,
      gotchiTokenId: "16714",
      id: "26977",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649119276",
      tokensToShare: [],
    },
    {
      borrower: "0x1d7a8620afab2bcd78d8d3181f439f21a1766076",
      completed: false,
      gotchiTokenId: "15783",
      id: "26970",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649171335",
      tokensToShare: [],
    },
    {
      borrower: "0xfd95dd06f5dcbabb8ee1d4b6556caa65e1e877bd",
      completed: false,
      gotchiTokenId: "16920",
      id: "26960",
      lastClaimed: "1649296316",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649100579",
      tokensToShare: [],
    },
    {
      borrower: "0x10b845fc843ed86fa254be8e869c0c3709574102",
      completed: false,
      gotchiTokenId: "10441",
      id: "26937",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649093966",
      tokensToShare: [],
    },
    {
      borrower: "0x91ee049fc064707446723b06731409d57f965933",
      completed: false,
      gotchiTokenId: "13457",
      id: "26915",
      lastClaimed: "1649304252",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649124998",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "10529",
      id: "26905",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x1cd0b90456c77502e82f051c04ccf8d293271792",
      completed: false,
      gotchiTokenId: "15258",
      id: "26560",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649102751",
      tokensToShare: [],
    },
    {
      borrower: "0x84f4c04fb3779d931354830b144d579ac86364be",
      completed: false,
      gotchiTokenId: "15080",
      id: "26547",
      lastClaimed: "1649250053",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649174308",
      tokensToShare: [],
    },
    {
      borrower: "0xaf680c6894f56b5ac7c90bf88e529f5b08151b79",
      completed: false,
      gotchiTokenId: "16007",
      id: "26534",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649097375",
      tokensToShare: [],
    },
    {
      borrower: "0x4f86814ffcb94f6e037a4e03e381b9a45dba705b",
      completed: false,
      gotchiTokenId: "13406",
      id: "26524",
      lastClaimed: "1649159173",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649093558",
      tokensToShare: [],
    },
    {
      borrower: "0xc63bd4d979df10c6999e55b9042c39a04779558d",
      completed: false,
      gotchiTokenId: "13609",
      id: "26508",
      lastClaimed: "1649207059",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649104451",
      tokensToShare: [],
    },
    {
      borrower: "0x3b273f20d9e88e3c73b9b0fa90c072a85a2c6dac",
      completed: false,
      gotchiTokenId: "11037",
      id: "26423",
      lastClaimed: "1649284430",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649094204",
      tokensToShare: [],
    },
    {
      borrower: "0xe45cc68d5c7ae44adc990b03e1d72f13d94d6d17",
      completed: false,
      gotchiTokenId: "17936",
      id: "26410",
      lastClaimed: "1649161753",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649100689",
      tokensToShare: [],
    },
    {
      borrower: "0x28d642cc669338f6885209d23896e88396b0cb57",
      completed: false,
      gotchiTokenId: "14600",
      id: "26404",
      lastClaimed: "1649313262",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649092398",
      tokensToShare: [],
    },
    {
      borrower: "0xefb9260017debeeb71e9b1290f924f02b7ddcf5b",
      completed: false,
      gotchiTokenId: "10875",
      id: "26385",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649099605",
      tokensToShare: [],
    },
    {
      borrower: "0x20049ff0d9adc8ecca90b28e59513b2bd11cce53",
      completed: false,
      gotchiTokenId: "11324",
      id: "26369",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649108549",
      tokensToShare: [],
    },
    {
      borrower: "0x557a838aab833b76cf9110e4c13dc2e85643bf8c",
      completed: false,
      gotchiTokenId: "15065",
      id: "26355",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649094206",
      tokensToShare: [],
    },
    {
      borrower: "0x5372341e072685dafbcc5d2316f983c4ff94e4d0",
      completed: false,
      gotchiTokenId: "22253",
      id: "26345",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649108687",
      tokensToShare: [],
    },
    {
      borrower: "0xcd513fbf5fdbd201f01fea4e85e505bd75a5050a",
      completed: false,
      gotchiTokenId: "11171",
      id: "26335",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649169121",
      tokensToShare: [],
    },
    {
      borrower: "0x685eef809d8503657cef8b8ed2fe8b0399935d60",
      completed: false,
      gotchiTokenId: "15437",
      id: "26329",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649102437",
      tokensToShare: [],
    },
    {
      borrower: "0xc63191904ba9df7d51041cacdcb674710933ed32",
      completed: false,
      gotchiTokenId: "12410",
      id: "26312",
      lastClaimed: "1649112081",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649092644",
      tokensToShare: [],
    },
    {
      borrower: "0x63803f3ca3bb93012de1c40091313a211c2f5301",
      completed: false,
      gotchiTokenId: "23410",
      id: "26303",
      lastClaimed: "1649252815",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649098759",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "17733",
      id: "26293",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "17733",
      id: "26279",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x0f533fd578bca9ce6a9969944e169b3e7651ba12",
      completed: false,
      gotchiTokenId: "23189",
      id: "26273",
      lastClaimed: "1649276775",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649102385",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "23189",
      id: "26263",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x6eb43a0fc769238d5add0380b8d5bc28596d4d9b",
      completed: false,
      gotchiTokenId: "16244",
      id: "26259",
      lastClaimed: "1649255407",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649089800",
      tokensToShare: [],
    },
    {
      borrower: "0x4c5e1d2abf794eac8897781d27845507729f7fbe",
      completed: false,
      gotchiTokenId: "20164",
      id: "26248",
      lastClaimed: "1649252845",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649089750",
      tokensToShare: [],
    },
    {
      borrower: "0x483b950f021466220343fa1e92fb232a1e8896b3",
      completed: false,
      gotchiTokenId: "20565",
      id: "26244",
      lastClaimed: "1649304750",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649171023",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "24023",
      id: "26242",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "11999",
      id: "26236",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x9a5f7a72d3cfef7396eba7f046fd599ef8f3b031",
      completed: false,
      gotchiTokenId: "17775",
      id: "26223",
      lastClaimed: "1649199293",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649104085",
      tokensToShare: [],
    },
    {
      borrower: "0xb061df7d8b0079f910325a297f008c1a15039356",
      completed: false,
      gotchiTokenId: "10702",
      id: "26200",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649106735",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "14838",
      id: "26196",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0xf199479b5da4067d8a50d5afeea3e074c3daed01",
      completed: false,
      gotchiTokenId: "19376",
      id: "26189",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649087904",
      tokensToShare: [],
    },
    {
      borrower: "0xc710d3a855ca47ffe9c386d0d7ea9e571ba53b97",
      completed: false,
      gotchiTokenId: "14878",
      id: "26180",
      lastClaimed: "1649214127",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649117980",
      tokensToShare: [],
    },
    {
      borrower: "0x96cccd6ce7332ea5acbffba6506b08253c787680",
      completed: false,
      gotchiTokenId: "17862",
      id: "26151",
      lastClaimed: "1649290207",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649087848",
      tokensToShare: [],
    },
    {
      borrower: "0xaf7e8576431d1051a61f742e6431359aea808c0b",
      completed: false,
      gotchiTokenId: "12390",
      id: "26101",
      lastClaimed: "1649253413",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "3600",
      splitBorrower: "45",
      splitOther: "30",
      splitOwner: "25",
      timeAgreed: "1649088358",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "22253",
      id: "10055",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "86400",
      splitBorrower: "50",
      splitOther: "10",
      splitOwner: "40",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "23410",
      id: "10052",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "86400",
      splitBorrower: "50",
      splitOther: "10",
      splitOwner: "40",
      timeAgreed: "0",
      tokensToShare: [],
    },
    {
      borrower: "0x0000000000000000000000000000000000000000",
      completed: false,
      gotchiTokenId: "20164",
      id: "10037",
      lastClaimed: "0",
      lender: "0x8e3d6c8f591d73ebcf79810ebc4b3adf829d2fb6",
      period: "86400",
      splitBorrower: "50",
      splitOther: "10",
      splitOwner: "40",
      timeAgreed: "0",
      tokensToShare: [],
    },
  ];

  const newRevenueTokens = [
    "0x403E967b044d4Be25170310157cB1A4Bf10bdD0f",
    "0x44A6e0BE76e1D9620A7F76588e4509fE4fa8E8C8",
    "0x6a3E7C3c6EF65Ee26975b12293cA1AAD7e1dAeD2",
    "0x42E5E06EF5b90Fe15F853F59299Fc96259209c5C",
  ];

  let signer: Signer;

  const gameManager = "0x8D46fd7160940d89dA026D59B2e819208E714E82";

  //let owner = "0xa370f2ADd2A9Fba8759147995d6A0641F8d7C119";
  const testing = ["hardhat", "localhost"].includes(network.name);
  if (testing) {
    await network.provider.request({
      method: "hardhat_impersonateAccount",
      params: [gameManager],
    });
    signer = await ethers.provider.getSigner(gameManager);
  } else if (network.name === "matic") {
    signer = await (await ethers.getSigners())[0]; //new LedgerSigner(ethers.provider, "hid", "m/44'/60'/2'/0/0");
  } else {
    throw Error("Incorrect network selected");
  }

  const lendingFacet = (await ethers.getContractAt(
    "GotchiLendingFacet",
    maticDiamondAddress,
    signer
  )) as GotchiLendingFacet;

  let listing = await lendingFacet.getLendingListingInfo("26345");

  console.log("before listing:", listing);

  const tx = await lendingFacet.emergencyChangeRevenueTokens(
    listingIds.map((val) => val.id),
    newRevenueTokens
  );
  await tx.wait();

  listing = await lendingFacet.getLendingListingInfo("26345");

  console.log("after isting:", listing);
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });

exports.marineJacketSleeveFix = main;
